---
title: Docker ì„¸íŒ…
description: A reference page in my new Starlight docs site.
---

## ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ìƒì„±(ìµœì´ˆ 1ë²ˆ)
composeì—ì„œ external: trueë¡œ ì„¤ì •í•˜ê¸° ìœ„í•´ ë„¤íŠ¸ì›Œí¬ ìƒì„±
```bash
docker network create server-base-net
```

## Mysql ì»¨í…Œì´ë„ˆ ìƒì„±
```docker
# docker compose.yml
# ----------------------------------------
# ğŸ”— ì™¸ë¶€ì—ì„œ ì´ë¯¸ ë§Œë“¤ì–´ë‘” Docker ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©
#    - docker network create server-base-net ë¡œ ì‚¬ì „ ìƒì„± í•„ìš”
#    - composeê°€ ë„¤íŠ¸ì›Œí¬ë¥¼ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ê°€ì ¸ë‹¤ ì”€
# ----------------------------------------
networks:
  server-base-net:
    external: true

services:
  mysql:
    # ì‚¬ìš©í•  MySQL Docker ì´ë¯¸ì§€
    image: mysql:8.0
    container_name: server-base-mysql

    # ì»¨í…Œì´ë„ˆê°€ ì¤‘ì§€ë˜ë©´ ìë™ ì¬ì‹œì‘
    restart: unless-stopped

    # MySQL ê¸°ë³¸ ì„¤ì •(Environment Variables)
    environment:
      MYSQL_ROOT_PASSWORD:               # root ê³„ì • ë¹„ë°€ë²ˆí˜¸
      MYSQL_DATABASE: server_base_db     # ìë™ ìƒì„±í•  DB ì´ë¦„
      MYSQL_USER: server_base            # ìë™ ìƒì„±í•  ì‚¬ìš©ì ê³„ì •
      MYSQL_PASSWORD:                    # í•´ë‹¹ ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸

    # í˜¸ìŠ¤íŠ¸í¬íŠ¸ : ì»¨í…Œì´ë„ˆ ë‚´ë¶€ MySQL í¬íŠ¸
    # í˜¸ìŠ¤íŠ¸ì—ì„œ 5011 â†’ ì»¨í…Œì´ë„ˆ 3306ìœ¼ë¡œ ì ‘ì† ê°€ëŠ¥
    ports:
      - "5011:3306"

    # DB íŒŒì¼ì„ ì˜êµ¬ ì €ì¥í•˜ê¸° ìœ„í•œ ë³¼ë¥¨ (ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘í•´ë„ ë°ì´í„° ìœ ì§€)
    volumes:
      - mysql_data:/var/lib/mysql

    # ìœ„ì—ì„œ ì„ ì–¸í•œ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì— ì»¨í…Œì´ë„ˆ ì—°ê²°
    networks:
      - server-base-net

# ----------------------------------------
# ğŸ’¾ MySQL ì˜êµ¬ ì €ì¥ ë³¼ë¥¨
#    - ì‹¤ì œ DB ë°ì´í„°ëŠ” mysql_data ë³¼ë¥¨ì— ì €ì¥ë¨
# ----------------------------------------
volumes:
  mysql_data:

```

## ì»¨í…Œì´ë„ˆ ëª…ë ¹ì–´
```bash
# ì‹¤í–‰ 
# -d : ë°±ê·¸ë¼ìš´ë“œ(detached) ì‹¤í–‰
# - ì²« ì‹¤í–‰ ë•Œ ì´ë¯¸ì§€ëŠ” ìë™ìœ¼ë¡œ pull ë¨
docker compose up -d

# ì»¨í…Œì´ë„ˆ ì¢…ë£Œ, ë°ì´í„° ìœ ì§€
docker compose down

# ì™„ì „íˆ ì‚­ì œ(ì»¨í…Œì´ë„ˆ + ë³¼ë¥¨ + ë„¤íŠ¸ì›Œí¬ ì œì™¸)
docker compose down -v

# ë„¤íŠ¸ì›Œí¬ ì‚­ì œ
docker network rm server-base-net

# ì „ì²´ ì‚­ì œ í›„ ì™„ì „ ì´ˆê¸°í™” ì¬ì‹¤í–‰í•˜ê³  ì‹¶ì„ ë•Œ
docker compose down -v
docker network rm server-base-net
docker network create server-base-net
docker compose up -d
```

## ì •ìƒ ì‹¤í–‰ ì—¬ë¶€ í™•ì¸
```docker
docker ps
mysql -h 127.0.0.1 -P 5011 -u server_base -p
docker exec -it server-base-mysql mysql -u server_base -p
```